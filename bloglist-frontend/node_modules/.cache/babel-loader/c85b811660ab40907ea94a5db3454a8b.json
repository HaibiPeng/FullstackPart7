{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jdszsl/Desktop/Aalto/Aalto-CommunicationsEngineering/CS-E4670FullStackWebDevelopmentD/part7/bloglist-frontend/src/components/SignupForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { signUp } from '../reducers/userReducer';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setErrorNotification, setSuccessNotification } from '../reducers/notificationReducer';\nimport { useHistory } from \"react-router-dom\";\nimport { Container, TextField, Button } from '@material-ui/core';\n\nconst SignupForm = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleSignup = async event => {\n    event.preventDefault();\n    const username = event.target.username.value;\n    const name = event.target.name.value;\n    const password = event.target.password.value;\n    const ckeckpassword = event.target.checkpassword.value;\n\n    if (password !== ckeckpassword) {\n      dispatch(setErrorNotification('Passwords do not match. Please check again.', 5));\n    } else {\n      dispatch(signUp(username, name, password)).then(() => {\n        dispatch(setSuccessNotification('Sign up succussfully. Go to login.', 5));\n      }).catch(error => {\n        dispatch(setErrorNotification(error.response.data.error, 5));\n      });\n    }\n\n    history.push('/signup');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Signup to application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSignup,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            label: \"Username\",\n            placeholder: \"username for login\",\n            variant: \"outlined\",\n            margin: \"dense\",\n            id: \"username\",\n            type: \"text\",\n            name: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            label: \"Name\",\n            placeholder: \"name for blogs\",\n            variant: \"outlined\",\n            margin: \"dense\",\n            id: \"name\",\n            type: \"text\",\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            label: \"Password\",\n            placeholder: \"password\",\n            variant: \"outlined\",\n            margin: \"dense\",\n            id: \"password\",\n            type: \"password\",\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            label: \"Check password\",\n            placeholder: \"check your password\",\n            variant: \"outlined\",\n            margin: \"dense\",\n            id: \"checkpassword\",\n            type: \"password\",\n            name: \"checkpassword\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          id: \"signup-button\",\n          type: \"submit\",\n          children: \"signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignupForm, \"FxNkVwM1QRg2/kU3+RDi4ll7EAM=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = SignupForm;\nexport default SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"sources":["/Users/jdszsl/Desktop/Aalto/Aalto-CommunicationsEngineering/CS-E4670FullStackWebDevelopmentD/part7/bloglist-frontend/src/components/SignupForm.js"],"names":["React","signUp","useDispatch","useSelector","setErrorNotification","setSuccessNotification","useHistory","Container","TextField","Button","SignupForm","dispatch","history","handleSignup","event","preventDefault","username","target","value","name","password","ckeckpassword","checkpassword","then","catch","error","response","data","push"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { signUp } from '../reducers/userReducer'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setErrorNotification, setSuccessNotification } from '../reducers/notificationReducer'\nimport { useHistory } from \"react-router-dom\"\nimport { Container, TextField, Button } from '@material-ui/core'\n\nconst SignupForm = () => {\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const handleSignup = async (event) => {\n        event.preventDefault()\n        const username = event.target.username.value\n        const name = event.target.name.value\n        const password = event.target.password.value\n        const ckeckpassword = event.target.checkpassword.value\n        if (password !== ckeckpassword){\n            dispatch(setErrorNotification('Passwords do not match. Please check again.', 5))\n        }else{\n            dispatch(signUp(username, name, password)).then(() => {\n                dispatch(setSuccessNotification('Sign up succussfully. Go to login.', 5))\n            })\n            .catch(error => {\n                dispatch(setErrorNotification(error.response.data.error, 5))\n            })\n        }\n        history.push('/signup')\n    }\n\n    return (\n        <div>\n            <h2>Signup to application</h2>\n            <Container>\n                <form onSubmit={handleSignup}>\n                    <div>\n                        <TextField required label=\"Username\" placeholder=\"username for login\" variant=\"outlined\" margin=\"dense\" \n                        id='username' type=\"text\" name=\"username\"/>\n                    </div>\n                    <div>\n                        <TextField required label=\"Name\" placeholder=\"name for blogs\" variant=\"outlined\" margin=\"dense\" id='name' \n                            type=\"text\" name=\"name\"/>\n                    </div>\n                    <div>\n                        <TextField required label=\"Password\" placeholder=\"password\" variant=\"outlined\" margin=\"dense\" id='password' \n                            type=\"password\" name=\"password\"/>\n                    </div>\n                    <div>\n                        <TextField required label=\"Check password\" placeholder=\"check your password\" variant=\"outlined\" margin=\"dense\" \n                        id='checkpassword' type=\"password\" name=\"checkpassword\"/>\n                    </div>\n                    <Button variant=\"contained\" color=\"primary\" id=\"signup-button\" type=\"submit\">signup</Button>\n                </form>\n            </Container>\n        </div>\n    )\n}\n\nexport default SignupForm"]},"metadata":{},"sourceType":"module"}