{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jdszsl/Desktop/Aalto/Aalto-CommunicationsEngineering/CS-E4670FullStackWebDevelopmentD/part7/bloglist/src/components/blogList.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { AddLikes, DeleteBlog } from '../reducers/blogReducer';\nimport { setSuccessNotification, setErrorNotification } from '../reducers/notificationReducer';\nimport Blog from './Blog';\nimport blogService from '../services/blogs';\n\nconst Blogs = ({\n  user\n}) => {\n  _s();\n\n  const blogs = useSelector(state => state.blogs);\n  const dispatch = useDispatch();\n\n  const addLikes = id => {\n    const blog = blogs.find(blog => blog.id === id);\n    dispatch(AddLikes(blog));\n  };\n\n  const deleteBlog = id => {\n    const blog = blogs.find(blog => blog.id === id);\n\n    if (window.confirm(`Remove blog ${blog.title} by ${blog.author}`)) {\n      if (blog.user.username === user.username || blog.user.username === undefined) {\n        dispatch(DeleteBlog(blog));\n        dispatch(setSuccessNotification(`blog '${blog.title}' by ${blog.author} deleted`, 5));\n      } else {\n        blogService.deleteBlog(id).catch(error => {\n          dispatch(setErrorNotification(error.response.data.error, 5));\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"showblogs\",\n    children: blogs.sort((a, b) => parseFloat(b.likes) - parseFloat(a.likes)).map(blog => /*#__PURE__*/_jsxDEV(Blog, {\n      blog: blog,\n      user: user.username,\n      addLikes: () => addLikes(blog.id),\n      deleteBlog: () => deleteBlog(blog.id)\n    }, blog.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Blogs, \"FoYN3aDe23BOF39hV6qY5zJslRk=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Blogs;\nexport default Blogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blogs\");","map":{"version":3,"sources":["/Users/jdszsl/Desktop/Aalto/Aalto-CommunicationsEngineering/CS-E4670FullStackWebDevelopmentD/part7/bloglist/src/components/blogList.js"],"names":["React","useSelector","useDispatch","AddLikes","DeleteBlog","setSuccessNotification","setErrorNotification","Blog","blogService","Blogs","user","blogs","state","dispatch","addLikes","id","blog","find","deleteBlog","window","confirm","title","author","username","undefined","catch","error","response","data","sort","a","b","parseFloat","likes","map"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,yBAArC;AACA,SAASC,sBAAT,EAAiCC,oBAAjC,QAA6D,iCAA7D;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,KAAK,GAAG,CAAE;AAAEC,EAAAA;AAAF,CAAF,KAAgB;AAAA;;AAE1B,QAAMC,KAAK,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACD,KAAhB,CAAzB;AACA,QAAME,QAAQ,GAAGX,WAAW,EAA5B;;AAEA,QAAMY,QAAQ,GAAIC,EAAD,IAAQ;AACrB,UAAMC,IAAI,GAAGL,KAAK,CAACM,IAAN,CAAWD,IAAI,IAAIA,IAAI,CAACD,EAAL,KAAYA,EAA/B,CAAb;AACAF,IAAAA,QAAQ,CAACV,QAAQ,CAACa,IAAD,CAAT,CAAR;AACD,GAHH;;AAKA,QAAME,UAAU,GAAIH,EAAD,IAAQ;AACvB,UAAMC,IAAI,GAAGL,KAAK,CAACM,IAAN,CAAWD,IAAI,IAAIA,IAAI,CAACD,EAAL,KAAYA,EAA/B,CAAb;;AACA,QAAII,MAAM,CAACC,OAAP,CAAgB,eAAcJ,IAAI,CAACK,KAAM,OAAML,IAAI,CAACM,MAAO,EAA3D,CAAJ,EAAkE;AAChE,UAAIN,IAAI,CAACN,IAAL,CAAUa,QAAV,KAAuBb,IAAI,CAACa,QAA5B,IAAwCP,IAAI,CAACN,IAAL,CAAUa,QAAV,KAAuBC,SAAnE,EAA8E;AAC1EX,QAAAA,QAAQ,CAACT,UAAU,CAACY,IAAD,CAAX,CAAR;AACAH,QAAAA,QAAQ,CAACR,sBAAsB,CAAE,SAAQW,IAAI,CAACK,KAAM,QAAOL,IAAI,CAACM,MAAO,UAAxC,EAAmD,CAAnD,CAAvB,CAAR;AACH,OAHD,MAGO;AACLd,QAAAA,WAAW,CACRU,UADH,CACcH,EADd,EAEGU,KAFH,CAEUC,KAAK,IAAI;AACfb,UAAAA,QAAQ,CAACP,oBAAoB,CAACoB,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBF,KAArB,EAA4B,CAA5B,CAArB,CAAR;AACD,SAJH;AAKD;AACF;AACF,GAdH;;AAgBA,sBACE;AAAK,IAAA,EAAE,EAAC,WAAR;AAAA,cACGf,KAAK,CAACkB,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUC,UAAU,CAACD,CAAC,CAACE,KAAH,CAAV,GAAsBD,UAAU,CAACF,CAAC,CAACG,KAAH,CAArD,EAAgEC,GAAhE,CAAoElB,IAAI,iBACvE,QAAC,IAAD;AAAoB,MAAA,IAAI,EAAEA,IAA1B;AAAgC,MAAA,IAAI,EAAEN,IAAI,CAACa,QAA3C;AACE,MAAA,QAAQ,EAAE,MAAMT,QAAQ,CAACE,IAAI,CAACD,EAAN,CAD1B;AACqC,MAAA,UAAU,EAAE,MAAMG,UAAU,CAACF,IAAI,CAACD,EAAN;AADjE,OAAWC,IAAI,CAACD,EAAhB;AAAA;AAAA;AAAA;AAAA,YADD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CAlCH;;GAAMN,K;UAEYR,W,EACGC,W;;;KAHfO,K;AAoCJ,eAAeA,KAAf","sourcesContent":["import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { AddLikes, DeleteBlog } from '../reducers/blogReducer'\nimport { setSuccessNotification, setErrorNotification } from '../reducers/notificationReducer'\nimport Blog from './Blog'\nimport blogService from '../services/blogs'\n\nconst Blogs = ( { user } ) => {\n\n    const blogs = useSelector(state => state.blogs)\n    const dispatch = useDispatch()\n\n    const addLikes = (id) => {\n        const blog = blogs.find(blog => blog.id === id)\n        dispatch(AddLikes(blog))\n      }\n    \n    const deleteBlog = (id) => {\n        const blog = blogs.find(blog => blog.id === id)\n        if (window.confirm(`Remove blog ${blog.title} by ${blog.author}`)){\n          if (blog.user.username === user.username || blog.user.username === undefined) {\n              dispatch(DeleteBlog(blog))\n              dispatch(setSuccessNotification(`blog '${blog.title}' by ${blog.author} deleted`, 5))\n          } else {\n            blogService\n              .deleteBlog(id)\n              .catch (error => {\n                dispatch(setErrorNotification(error.response.data.error, 5))\n              })\n          }\n        }\n      }\n\n    return (\n      <div id='showblogs'>\n        {blogs.sort((a, b) => parseFloat(b.likes) - parseFloat(a.likes)).map(blog =>\n          <Blog key={blog.id} blog={blog} user={user.username}\n            addLikes={() => addLikes(blog.id)} deleteBlog={() => deleteBlog(blog.id)}/>\n        )}\n      </div>\n    )\n  }\n\n  export default Blogs"]},"metadata":{},"sourceType":"module"}